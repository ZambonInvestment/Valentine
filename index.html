<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Buon San Valentino babeğŸ’–</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: linear-gradient(#ffd6e7, #fff0f5);
  text-align: center;
  overflow: hidden;
}

/* CUORI */
.heart {
  position: fixed;
  animation: float 6s linear infinite;
}

@keyframes float {
  from { transform: translateY(100vh); opacity: 1; }
  to { transform: translateY(-10vh); opacity: 0; }
}

/* SEZIONI FULLSCREEN */
.section {
  display: none;
  height: 100vh;
  width: 100vw;
  padding: 10px;
}

.active {
  display: flex;
  flex-direction: column;
  justify-content: space-evenly;
  align-items: center;
}

/* TESTI GRANDI */
h1 {
  font-size: 38px;
  margin: 10px;
}

h2 {
  font-size: 28px;
  margin: 10px;
}

/* BOTTONI ENORMI */
button {
  width: 90%;
  max-width: 400px;
  padding: 22px;
  font-size: 26px;
  border: none;
  border-radius: 16px;
  cursor: pointer;
}

/* CAPTCHA QUASI FULLSCREEN */
.grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 8px;
  width: 95vw;
  max-width: 500px;
}

img {
  width: 100%;
  height: 22vh;
  object-fit: cover;
  border-radius: 14px;
  border: 5px solid transparent;
}

.selected {
  border: 5px solid red;
}

/* MESSAGGIO FINALE */
#secret {
  font-size: 24px;
  color: #c4005a;
  display: none;
  padding: 10px;
}
</style>
</head>

<body>

<!-- GIOCO -->
<div id="game" class="section active">
  <h1>ğŸ’– Be my valentine? ğŸ’–</h1>

  <button id="yesBtn"
    onclick="startCaptcha()"
    style="background:#ff4d88;color:white;">
    YES ğŸ’˜
  </button>

  <button id="noBtn"
    onmouseover="escapeNo()"
    ontouchstart="escapeNo()"
    style="background:#ddd;">
    No ğŸ˜¢
  </button>
</div>

<!-- CAPTCHA -->
<div id="captcha" class="section">
  <h2>Trova tutte le mie foto ğŸ˜‰</h2>

  <div class="grid">
    <img src="me1.jpg" onclick="toggle(this,true)">
    <img src="random1.jpg" onclick="toggle(this,false)">
    <img src="me2.jpg" onclick="toggle(this,true)">
    <img src="random2.jpg" onclick="toggle(this,false)">
    <img src="me3.jpg" onclick="toggle(this,true)">
    <img src="random3.jpg" onclick="toggle(this,false)">
  </div>

  <button onclick="checkCaptcha()">Verifica ğŸ’Œ</button>

  <div id="secret">
    ğŸ’– Congratulazioni amore! ğŸ’–<br><br>
    ğŸ <b>[SCRIVI QUI IL REGALO]</b> ğŸ<br><br>
    Ti amo ğŸ’˜
  </div>
</div>

<script>
/* CUORI */
function createHeart() {
  const heart = document.createElement("div");
  heart.className = "heart";
  heart.innerHTML = "ğŸ’–";
  heart.style.left = Math.random() * 100 + "vw";
  heart.style.fontSize = (Math.random() * 24 + 16) + "px";
  document.body.appendChild(heart);
  setTimeout(() => heart.remove(), 6000);
}
setInterval(createHeart, 400);

/* NO CHE SCAPPA */
function escapeNo() {
  const btn = document.getElementById("noBtn");
  btn.innerText = "YES ğŸ’˜";
  btn.style.position = "absolute";
  btn.style.left = Math.random() * 60 + "%";
  btn.style.top = Math.random() * 70 + "%";

  document.getElementById("yesBtn").style.fontSize = "32px";
}

/* NAVIGAZIONE */
function startCaptcha() {
  document.getElementById("game").classList.remove("active");
  document.getElementById("captcha").classList.add("active");
}

/* CAPTCHA */
let correct = new Set();
let selected = new Set();

function toggle(img, isCorrect) {
  img.classList.toggle("selected");
  const id = img.src;

  if (selected.has(id)) selected.delete(id);
  else selected.add(id);

  if (isCorrect) correct.add(id);
}

function checkCaptcha() {
  let success = true;

  correct.forEach(id => {
    if (!selected.has(id)) success = false;
  });

  if (success && selected.size === correct.size) {
    document.getElementById("secret").style.display = "block";
  } else {
    alert("Riprova amore ğŸ˜˜");
  }
}
</script>

</body>
</html>